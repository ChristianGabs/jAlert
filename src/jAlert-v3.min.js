/* 
	*
	*
	jAlert v.3
	Made with love by Versatility Werks (http://flwebsites.biz)
	MIT Licensed
	*
	*
*/
!function(t){var e={};Date.now||(Date.now=function(){return+new Date}),t.fn.jAlert=function(o){var n=["default","green","red","black","blue","yellow"],i=["xsm","sm","md","lg","xlg","full"],a=["white","black"],r=[],s=["animated"],l=[];if(alert.length>1)return alert.each(function(){t(this).jAlert(alert.options)}),this;if(o=t.extend({},t.fn.jAlert.defaults,o),o.id)var c=o.id;else var d=Date.now().toString()+Math.floor(1e5*Math.random()),c="ja_"+d;if(e[c]={},alert=e[c],alert.options=o,alert.options.id=c,alert.instance=!1,"confirm"==alert.options.type&&(alert.options.content||(alert.options.content=alert.options.confirmQuestion),alert.options.btns=[{text:alert.options.confirmBtnText,theme:"green","class":"confirmBtn",closeAlert:!0,onClick:alert.options.onConfirm},{text:alert.options.denyBtnText,theme:"red","class":"denyBtn",closeAlert:!0,onClick:alert.options.onDeny}],alert.options.autofocus=alert.options.confirmAutofocus),-1==t.inArray(alert.options.theme,n))return console.log("jAlert Config Error: Invalid theme selection."),!1;if(s.push("ja_"+alert.options.theme),alert.options["class"]&&s.push(alert.options["class"]),alert.options.classes&&s.push(alert.options.classes),alert.options.title||s.push("ja_noTitle"),alert.options.size&&("string"==typeof alert.options.size&&-1==t.inArray(alert.options.size,i)||"object"==typeof alert.options.size&&("undefined"==typeof alert.options.size.width||"undefined"==typeof alert.options.size.height)))return console.log("jAlert Config Error: Invalid size selection (try a preset or make sure you're including height and width in your size object)."),!1;if(alert.options.size?"object"==typeof alert.options.size?(r.push("width: "+alert.options.size.width+";"),r.push("height: "+alert.options.size.height+";")):s.push("ja_"+alert.options.size):s.push("ja_sm"),-1==t.inArray(alert.options.backgroundColor,a))return console.log("jAlert Config Error: Invalid background color selection."),!1;l.push("ja_wrap_"+alert.options.backgroundColor),("object"==typeof alert.options.btns||"array"==typeof alert.options.btns||alert.options.autofocus)&&(alert.options.closeOnClick=!1),alert.options.onOpen=[alert.options.onOpen];var p="onload='$.fn.jAlert.mediaLoaded($(this))'",f="<div class='ja_loader'>Loading...</div>";alert.options.image?(alert.options.content="<div class='ja_media_wrap'>"+f+"<img src='"+alert.options.image+"' class='ja_img' "+p+"'",alert.options.imageWidth&&(alert.options.content+=" style='width: "+alert.options.imageWidth+"'"),alert.options.content+="></div>"):alert.options.video?(alert.options.content="<div class='ja_media_wrap'>"+f+"<div class='ja_video'></div></div>",alert.options.onOpen.unshift(function(e){var o=document.createElement("iframe");o.src=e.options.video,o.addEventListener?o.addEventListener("load",function(){t.fn.jAlert.mediaLoaded(t(this))},!0):o.attachEvent?o.attachEvent("onload",function(){t.fn.jAlert.mediaLoaded(t(this))}):o.onload=function(){t.fn.jAlert.mediaLoaded(t(this))},e.find(".ja_video").append(o)})):alert.options.iframe?(alert.options.iframeHeight||(alert.options.iframeHeight=.9*t(window).height()+"px"),alert.options.content="<div class='ja_media_wrap'>"+f+"</div>",alert.options.onOpen.unshift(function(e){var o=document.createElement("iframe");o.src=e.options.iframe,o.height=e.options.iframeHeight,o.className="ja_iframe",o.addEventListener?o.addEventListener("load",function(){t.fn.jAlert.mediaLoaded(t(this))},!0):o.attachEvent?o.attachEvent("onload",function(){t.fn.jAlert.mediaLoaded(t(this))}):o.onload=function(){t.fn.jAlert.mediaLoaded(t(this))},e.find(".ja_media_wrap").append(o)})):alert.options.ajax&&(alert.options.content="<div class='ja_media_wrap'>"+f+"</div>",onAjaxCallbacks=alert.options.onOpen,alert.options.onOpen=[function(e){t.ajax(e.options.ajax,{async:!0,complete:function(o){e.find(".ja_media_wrap").replaceWith(o.responseText),t.each(onAjaxCallbacks,function(t,o){o(e)})},error:function(t){e.options.onAjaxFail(e,"Error getting content: Code: "+t.status+" : Msg: "+t.statusText)}})}]),this.centerAlert=function(){var e=t(window).height(),o=alert.instance.height(),n=e-o,i=n/2;i>200&&(i-=100),0>=i&&(i=0),alert.instance.css("margin-top",i+"px"),t("body").css("overflow","hidden"),n>5?alert.instance.parents(".ja_wrap").css("position","fixed"):(alert.instance.parents(".ja_wrap").css("position","absolute"),t("html, body").animate({scrollTop:i-50},200))};var u=function(t,o){"hide"==t?o.removeClass(e[o.attr("id")].options.showAnimation).addClass(e[o.attr("id")].options.hideAnimation):(o.centerAlert(),o.addClass(e[o.attr("id")].options.showAnimation).removeClass(e[o.attr("id")].options.hideAnimation).show())},h=function(e){if("undefined"==typeof e.href&&(e.href=""),"undefined"==typeof e["class"]&&(e["class"]=""),e["class"]+="undefined"==typeof e.theme?" ja_btn_default":" ja_btn_"+e.theme,"undefined"==typeof e.text&&(e.text=""),"undefined"==typeof e.id){var o=Date.now().toString()+Math.floor(1e5*Math.random());e.id="ja_btn_"+o}return"undefined"==typeof e.target&&(e.target="_self"),"undefined"==typeof e.closeAlert&&(e.closeAlert=!0),t("body").on("click","#"+e.id,function(o){var n=t(this);e.closeAlert&&n.parents(".jAlert").closeAlert();var i=!0;return"function"==typeof e.onClick&&(i=e.onClick(o,n)),!i||e.closeAlert?(o.preventDefault(),!1):i}),"<a href='"+e.href+"' id='"+e.id+"' target='"+e.target+"' class='ja_btn "+e["class"]+"'>"+e.text+"</a> "};this.closeAlert=function(o,n){var i=t(this);return 0!=o&&(o=!0),i.length&&(i.unbind("DOMSubtreeModified"),u("hide",i),window.setTimeout(function(){var a=i.parents(".ja_wrap");o?a.remove():a.hide(),"function"==typeof n?n(i):"function"==typeof e[i.attr("id")].options.onClose&&e[i.attr("id")].options.onClose(i),t(".jAlert").length>0?t(".jAlert:last").centerAlert():t("body").css("overflow","auto")},e[i.attr("id")].options.animationTimeout)),this},this.showAlert=function(o,n,i,a){var r=t(this);0!=o&&(o=!0),n!==!1&&(n=!0),o&&t(".jAlert:visible").closeAlert(n);var s=r.parents(".ja_wrap");t("body").append(s),u("show",r),"function"==typeof a&&(e[r.attr("id")].options.onClose=a),window.setTimeout(function(){"function"==typeof i&&i(r)},e[r.attr("id")].options.animationTimeout)};var m=function(e){var o="";o+='<div class="ja_wrap '+l.join(" ")+'"><div class="jAlert '+s.join(" ")+'" style="'+r.join(" ")+'" id="'+alert.options.id+'"><div>',alert.options.closeBtn&&(o+="<div class='closejAlert ja_close",alert.options.closeBtnAlt&&(o+=" ja_close_alt"),o+="'>X</div>"),alert.options.title&&(o+="<div class='ja_title'><div>"+alert.options.title+"</div></div>"),o+='<div class="ja_body">'+e,alert.options.btns&&(o+='<div class="ja_btn_wrap ',alert.options.btnBackground&&(o+="optBack"),o+='">'),"object"==typeof alert.options.btns[0]?t.each(alert.options.btns,function(t,e){"object"==typeof e&&(o+=h(e))}):"object"==typeof alert.options.btns?o+=h(alert.options.btns):alert.options.btns&&console.log("jAlert Config Error: Incorrect value for btns (must be object or array of objects): "+alert.options.btns),alert.options.btns&&(o+="</div>"),o+="</div></div></div></div>";var n=t(o);return alert.options.replaceOtherAlerts&&t(".jAlert:visible").closeAlert(),t("body").append(n),alert.instance=t("#"+alert.options.id),u("show",alert.instance),alert.options.closeBtn&&alert.instance.on("click",".closejAlert",function(e){return e.preventDefault(),t(this).parents(".jAlert").closeAlert(),!1}),alert.options.closeOnClick&&(t(document).off("mouseup",t.fn.jAlert.onMouseUp),t(document).on("mouseup",t.fn.jAlert.onMouseUp)),alert.options.closeOnEsc&&(t(document).off("keydown",t.fn.jAlert.onEscKeyDown),t(document).on("keydown",t.fn.jAlert.onEscKeyDown)),alert.options.onOpen&&t.each(alert.options.onOpen,function(t,e){e(alert.instance)}),alert.options.autofocus?alert.instance.find(alert.options.autofocus).focus():alert.instance.focus(),alert.instance.bind("DOMSubtreeModified",function(){alert.instance.centerAlert()}),alert.instance};return this.initialize=function(){return alert.options.content||alert.options.image||alert.options.video||alert.options.iframe||alert.options.ajax?(alert.options.content||(alert.options.content=""),m(alert.options.content)):(console.log("jAlert potential error: No content defined"),m(""))},this.initialize(),this},t.fn.jAlert.defaults={title:!1,content:!1,image:!1,imageWidth:"auto",video:!1,ajax:!1,onAjaxFail:function(t,e){t.closeAlert(),errorAlert(e)},iframe:!1,iframeHeight:!1,"class":"",classes:"",id:!1,showAnimation:"fadeInUp",hideAnimation:"fadeOutDown",animationTimeout:600,theme:"default",backgroundColor:"black",size:!1,replaceOtherAlerts:!1,closeOnClick:!1,closeOnEsc:!0,closeBtn:!0,closeBtnAlt:!1,btns:!1,btnBackground:!0,autofocus:!1,onOpen:function(){return!1},onClose:function(){return!1},type:"modal",confirmQuestion:"Are you sure?",confirmBtnText:"Yes",denyBtnText:"No",confirmAutofocus:".confirmBtn",onConfirm:function(t){return t.preventDefault(),console.log("confirmed"),!1},onDeny:function(t){return t.preventDefault(),!1}},t.fn.jAlert.onMouseUp=function(){var o=t(".jAlert:visible:last");e[o.attr("id")].options.closeOnClick&&o.closeAlert()},t.fn.jAlert.onEscKeyDown=function(o){if(27===o.keyCode){var n=t(".jAlert:visible:last");e[n.attr("id")].options.closeOnEsc&&n.closeAlert()}},t.jAlert=function(e){return t.fn.jAlert(e)},t.fn.alertOnClick=function(e){t(this).on("click",function(o){return o.preventDefault(),t.jAlert(e),!1})},t.alertOnClick=function(e,o){t("body").on("click",e,function(e){return e.preventDefault(),t.jAlert(o),!1})};var o;t(window).resize(function(){window.clearTimeout(o),o=window.setTimeout(function(){t(".jAlert:visible").each(function(){t(this).centerAlert()})},200)}),t.fn.jAlert.mediaLoaded=function(t){var e=t.parents(".ja_media_wrap"),o=e.find(".ja_video");e.find(".ja_loader").remove(),o.length>0?o.fadeIn("fast"):t.fadeIn("fast"),t.parents(".jAlert").centerAlert()}}(jQuery);